<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tournament Player Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #00e0ff;
            --secondary-color: #ffcc00;
            --background-color: #0d1117;
            --card-bg-color: rgba(20, 25, 34, 0.8);
            --sidebar-bg: #161b22;
            --text-color: #e6e6e6;
            --border-color: #2e3a47;
        }

        body {
            font-family: 'Roboto Mono', monospace;
            margin: 0;
            background-color: var(--background-color);
            color: var(--text-color);
            overflow-x: hidden;
            display: flex;
            height: 100vh;
            transition: padding-left 0.3s ease;
        }

        .fade-in {
            animation: fadeIn 0.8s ease-in-out forwards;
            opacity: 0;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Sidebar */
        .sidebar {
            width: 250px;
            background-color: var(--sidebar-bg);
            border-right: 2px solid var(--primary-color);
            padding: 20px;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.5);
            display: flex;
            flex-direction: column;
            position: fixed;
            left: 0;
            top: 0;
            bottom: 0;
            transition: transform 0.3s ease, width 0.3s ease;
            z-index: 10;
            transform: translateX(0);
        }

        /* Collapsed sidebar state */
        .sidebar.collapsed {
            transform: translateX(-250px);
        }
        
        .sidebar h2 {
            color: var(--primary-color);
            border-bottom: 2px solid var(--secondary-color);
            padding-bottom: 10px;
            text-align: center;
            margin-bottom: 30px;
            text-shadow: 0 0 5px var(--primary-color);
            position: relative;
        }
        
        /* Player details toggle button (inside sidebar) */
        .toggle-details-button {
            position: absolute;
            right: 0;
            top: 0;
            height: 100%;
            width: 20px;
            background: none;
            border: none;
            color: var(--primary-color);
            font-size: 0.7em;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        .toggle-details-button.active {
            transform: rotate(180deg);
        }

        /* Player Details Section */
        .player-details {
            max-height: 0;
            opacity: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out, opacity 0.5s ease-in-out;
        }
        .player-details.show {
            max-height: 200px;
            opacity: 1;
        }
        .player-details p {
            margin: 5px 0;
            color: var(--text-color);
            padding: 0 10px;
        }
        .player-details h4 {
            margin-top: 15px;
            margin-bottom: 5px;
            color: var(--secondary-color);
        }

        .sidebar-menu {
            list-style: none;
            padding: 0;
            flex-grow: 1;
        }
        /* Subtle hover effect for menu items */
        .sidebar-menu li a {
            display: block;
            padding: 15px 20px;
            text-decoration: none;
            color: var(--text-color);
            transition: all 0.3s ease;
            border-radius: 8px;
            margin-bottom: 10px;
            border-left: 3px solid transparent;
        }
        .sidebar-menu li a:hover, .sidebar-menu li a.active {
            background: rgba(0, 224, 255, 0.1);
            color: var(--primary-color);
            border-left: 3px solid var(--primary-color);
            transform: translateX(5px);
        }
        
        /* Main Content */
        .main-content {
            flex-grow: 1;
            padding: 40px;
            overflow-y: auto;
            margin-left: 250px;
            transition: margin-left 0.3s ease;
        }

        /* Main content when sidebar is collapsed */
        .main-content.sidebar-collapsed {
            margin-left: 0;
        }
        
        /* Sidebar toggle button (outside sidebar) */
        #sidebar-toggle-btn {
            position: fixed;
            left: 20px;
            top: 20px;
            z-index: 11;
            background-color: var(--primary-color);
            color: var(--background-color);
            border: none;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 0.6em;
            line-height: 1;
            cursor: pointer;
            transition: left 0.3s ease, transform 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        #sidebar-toggle-btn.sidebar-collapsed {
            left: 20px;
            transform: rotate(180deg);
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }
        .dashboard-header h1 {
            color: var(--primary-color);
            text-shadow: 0 0 8px var(--primary-color);
            font-size: 2.5em;
        }

        /* Cards */
        .card {
            background: var(--card-bg-color);
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            border: 1px solid var(--border-color);
            margin-bottom: 20px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card h3 {
            color: var(--secondary-color);
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 10px;
            margin-bottom: 20px;
            display: inline-block;
            text-shadow: 0 0 0px var(--secondary-color);
        }

        .overview-grid {
            display: grid;
            /* Changed to create a 3-column layout */
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-top: 20px;
        }
        .overview-item {
            background: rgba(0, 224, 255, 0.05);
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid var(--border-color);
            transition: transform 0.3s ease, background 0.3s ease;
        }
        .overview-item:hover {
            background: rgba(0, 224, 255, 0.1);
            transform: scale(1.05);
        }
        .overview-item h4 {
            margin: 0;
            color: var(--primary-color);
            font-size: 1em;
            text-shadow: 0 0 2px var(--primary-color);
        }
        .overview-item p {
            font-size: 2em;
            font-weight: 700;
            color: var(--secondary-color);
            margin: 10px 0 0 0;
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }
        th {
            background: rgba(0, 224, 255, 0.1);
            color: var(--primary-color);
            font-weight: 700;
        }
        /* Subtle hover effect for table rows */
        tr {
            transition: background 0.2s ease;
        }
        tr:hover {
            background: rgba(0, 224, 255, 0.05);
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
                width: 100%;
            }
            .main-content {
                margin-left: 0;
                padding: 20px;
            }
            .main-content.sidebar-collapsed {
                margin-left: 0;
            }
            .sidebar.collapsed {
                transform: translateX(0);
            }
            #sidebar-toggle-btn {
                left: 10px;
            }
            /* Adjusted grid for smaller screens to be a 2-column layout, then a 1-column layout */
            .overview-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        @media (max-width: 480px) {
             .overview-grid {
                grid-template-columns: 1fr;
            }
        }
        #message-box {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--card-bg-color);
            color: var(--text-color);
            padding: 15px 25px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            z-index: 100;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        #message-box.show {
            opacity: 1;
            visibility: visible;
        }
    </style>
</head>
<body>
    <!-- Sidebar Toggle Button -->
    <button id="sidebar-toggle-btn" onclick="toggleSidebar()">
        &lt;
    </button>

    <div class="sidebar">
        <h2>
            Player Profile
            <button class="toggle-details-button" onclick="togglePlayerDetails()">â–¼</button>
        </h2>
        <div id="player-details" class="player-details show">
            <h4>Player Info</h4>
            <p><strong>Name:</strong> Jane P. Doe</p>
            <p><strong>Sport:</strong> Basketball</p>
            <p><strong>Team:</strong> Thunderbolts</p>
            <p><strong>Rank:</strong> #12</p>
        </div>
        <ul class="sidebar-menu">
            <li><a href="#" class="active" onclick="showSection('dashboard', this)">ðŸ“Š Dashboard</a></li>
            <li><a href="#" onclick="showSection('myteam', this)">ðŸ‘¥ My Team</a></li>
            <li><a href="#" onclick="showSection('matches', this)">ðŸ“… Matches</a></li>
            <li><a href="#" onclick="showSection('announcements', this)">ðŸ“¢ Announcements</a></li>
        </ul>
    </div>
    
    <div class="main-content">
        <div id="dashboard-section" class="content-section fade-in">
            <div class="dashboard-header">
                <h1>Player Dashboard</h1>
            </div>
            
            <div class="card">
                <h3>Personal Stats</h3>
                <div class="overview-grid">
                    <!-- The order of these items has been changed for clarity -->
                    <div class="overview-item">
                        <h4>Matches Played</h4>
                        <p id="matchesPlayedCount">0</p>
                    </div>
                    <div class="overview-item">
                        <h4>Wins</h4>
                        <p id="winsCount">0</p>
                    </div>
                    <div class="overview-item">
                        <h4>Losses</h4>
                        <p id="lossesCount">0</p>
                    </div>
                    <div class="overview-item">
                        <h4>Win Rate</h4>
                        <p id="winRate">0%</p>
                    </div>
                    <div class="overview-item">
                        <h4>Current Rank</h4>
                        <p id="rank">N/A</p>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3>Recent Activity</h3>
                <p>You joined the team "Thunderbolts".</p>
                <p>Your match against The Hawks is scheduled for October 25th.</p>
            </div>
        </div>

        <div id="myteam-section" class="content-section fade-in" style="display: none;">
            <div class="dashboard-header">
                <h1>My Team: The Thunderbolts</h1>
            </div>
            
            <div class="card">
                <h3>Team Details</h3>
                <p><strong>Sport:</strong> Basketball</p>
                <p><strong>Category:</strong> Pro-League</p>
                <p><strong>Team Size:</strong> 2 members</p>
            </div>
            
            <div class="card">
                <h3>Team Members</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Role</th>
                        </tr>
                    </thead>
                    <tbody id="teamMembersTable">
                        <!-- Table content dynamically populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <div id="matches-section" class="content-section fade-in" style="display: none;">
            <div class="dashboard-header">
                <h1>Upcoming Matches</h1>
            </div>
            
            <div class="card">
                <h3>Match Schedule</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Match ID</th>
                            <th>Date</th>
                            <th>Time</th>
                            <th>Opponent</th>
                            <th>Sport</th>
                        </tr>
                    </thead>
                    <tbody id="upcomingMatchesTable">
                        <!-- Match data will be populated here by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <div id="announcements-section" class="content-section fade-in" style="display: none;">
            <div class="dashboard-header">
                <h1>Announcements</h1>
            </div>
            
            <div class="card">
                <h3>Latest Updates</h3>
                <p>Regional Championship is set for October 25th!</p>
            </div>
            
            <div class="card">
                <h3>Previous Announcements</h3>
                <p>Tournament registration is officially closed.</p>
                <p>Welcome to all our participants!</p>
            </div>
        </div>
    </div>
    
    <div id="message-box"></div>

<script>
    // Sample data for a player and their team
    const currentPlayer = {
        name: "Jane P. Doe",
        email: "jane.doe@example.com",
        sport: "Basketball",
        team: "Thunderbolts",
        rank: 12,
        matchesPlayed: 42,
        wins: 31,
        losses: 11
    };

    const myTeam = {
        name: "The Thunderbolts",
        sport: "Basketball",
        category: "Pro-League",
        members: [
            { name: "Jane P. Doe", email: "jane.doe@example.com", role: "Captain" },
            { name: "Emily Smith", email: "emily.smith@example.com", role: "Player" }
        ]
    };

    // Global array to store scheduled matches
    const scheduledMatches = [
        { id: 101, date: "2025-10-25", time: "18:00", opponent: "The Dragons", sport: "Basketball" },
        { id: 102, date: "2025-11-10", time: "15:00", opponent: "The Hawks", sport: "Basketball" }
    ];

    /**
     * Shows a temporary message box with the given text.
     * @param {string} text - The message to display.
     */
    function showMessage(text) {
        const msgBox = document.getElementById('message-box');
        msgBox.textContent = text;
        msgBox.classList.add('show');
        setTimeout(() => {
            msgBox.classList.remove('show');
        }, 3000);
    }
    
    /**
     * Toggles the visibility of different sections of the dashboard.
     * @param {string} sectionId - The ID of the section to show.
     * @param {HTMLElement} clickedElement - The element that was clicked to trigger the change.
     */
    function showSection(sectionId, clickedElement) {
        document.querySelectorAll('.content-section').forEach(section => {
            section.style.display = 'none';
        });

        const sectionToShow = document.getElementById(sectionId + '-section');
        if (sectionToShow) {
            sectionToShow.style.display = 'block';
        }
        
        document.querySelectorAll('.sidebar-menu a').forEach(link => {
            link.classList.remove('active');
        });

        if (clickedElement) {
            clickedElement.classList.add('active');
        }

        // Initialize content based on the section
        if (sectionId === 'dashboard') {
            populatePlayerDashboard();
        } else if (sectionId === 'myteam') {
            populateMyTeam();
        } else if (sectionId === 'matches') {
            populateUpcomingMatches();
        }
    }

    /**
     * Toggles the entire sidebar.
     */
    function toggleSidebar() {
        const sidebar = document.querySelector('.sidebar');
        const mainContent = document.querySelector('.main-content');
        const toggleBtn = document.getElementById('sidebar-toggle-btn');
        sidebar.classList.toggle('collapsed');
        mainContent.classList.toggle('sidebar-collapsed');
        toggleBtn.classList.toggle('sidebar-collapsed');
    }

    /**
     * Toggles the player details section within the sidebar.
     */
    function togglePlayerDetails() {
        const playerDetails = document.getElementById('player-details');
        const toggleButton = document.querySelector('.toggle-details-button');
        playerDetails.classList.toggle('show');
        toggleButton.classList.toggle('active');
    }

    /**
     * Populates the dashboard with player data, including calculated win rate.
     */
    function populatePlayerDashboard() {
        const winRate = currentPlayer.matchesPlayed > 0 
            ? ((currentPlayer.wins / currentPlayer.matchesPlayed) * 100).toFixed(1) + '%'
            : '0%';

        document.getElementById('matchesPlayedCount').textContent = currentPlayer.matchesPlayed;
        document.getElementById('winsCount').textContent = currentPlayer.wins;
        document.getElementById('lossesCount').textContent = currentPlayer.losses;
        document.getElementById('winRate').textContent = winRate;
        document.getElementById('rank').textContent = currentPlayer.rank === null ? 'N/A' : `#${currentPlayer.rank}`;
    }

    /**
     * Populates the "My Team" section with team member data.
     */
    function populateMyTeam() {
        const teamMembersTable = document.getElementById('teamMembersTable');
        teamMembersTable.innerHTML = ''; // Clear existing content
        myTeam.members.forEach(member => {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${member.name}</td>
                <td>${member.email}</td>
                <td>${member.role}</td>
            `;
            teamMembersTable.appendChild(row);
        });
    }

    /**
     * Populates the "Upcoming Matches" table with match data.
     */
    function populateUpcomingMatches() {
        const matchesTable = document.getElementById('upcomingMatchesTable');
        matchesTable.innerHTML = ''; // Clear existing content
        scheduledMatches.forEach(match => {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${match.id}</td>
                <td>${match.date}</td>
                <td>${match.time}</td>
                <td>${match.opponent}</td>
                <td>${match.sport}</td>
            `;
            matchesTable.appendChild(row);
        });
    }

    // Initial load
    document.addEventListener('DOMContentLoaded', () => {
        // Show the dashboard section and populate its data
        showSection('dashboard', document.querySelector('.sidebar-menu a.active'));

        // Populate the sidebar player details on load
        document.getElementById('player-details').innerHTML = `
            <h4>Player Info</h4>
            <p><strong>Name:</strong> ${currentPlayer.name}</p>
            <p><strong>Sport:</strong> ${currentPlayer.sport}</p>
            <p><strong>Team:</strong> ${currentPlayer.team}</p>
            <p><strong>Rank:</strong> #${currentPlayer.rank}</p>
        `;
    });
</script>
</body>
</html>